# TASK-0007: Correcoes rapidas de codigo (key={index} e codigo morto)

## Metadata
- **ID**: TASK-0007
- **Branch**: feature/TASK-0007
- **Depends on**: NONE
- **PRD Reference**: PRD-0002
- **Quick Wins Cobertos**: DT-003, MR-010
- **Tempo Estimado**: 0.75h

## Objetivo

Eliminar dois anti-patterns criticos no codigo React que comprometem a qualidade e manutenibilidade: o uso de `key={index}` em listas renderizadas (causa bugs sutis de reconciliacao) e a presenca de codigo morto (botao favorito sem funcionalidade no componente Logo).

## Escopo Tecnico

### DT-003: Corrigir key={index} em listas

**Arquivos afetados:**
- `src/componentes/SecaoContato/SecaoContato.tsx` (linha ~12) - lista de contatos usa `key={index}`
- `src/componentes/CalendarioAgendamento/CalendarioAgendamento.tsx` (linha ~88) - botoes de data usam `key={index}`

**Abordagem sugerida:**
- Em `SecaoContato.tsx`: substituir `key={index}` por `key={contato.tipo}` (tipo de contato e unico: whatsapp, localizacao)
- Em `CalendarioAgendamento.tsx`: substituir `key={index}` por `key={data.getTime()}` (timestamp e unico por data)

**Edge cases a considerar:**
- Verificar se existe algum outro local no projeto com `key={index}` alem dos dois identificados
- Garantir que as novas keys sejam de fato unicas (nao pode haver duas datas com mesmo timestamp)
- Verificar que nao ha warnings de keys duplicadas no console apos a mudanca

### MR-010: Remover codigo morto (botao favorito)

**Arquivos afetados:**
- `src/componentes/Logo/Logo.tsx` (linhas ~12-26) - botao com SVG de coracao sem handler funcional
- `src/componentes/Logo/Logo.module.css` - classe `.favorito` ou `.botaoFavorito` associada

**Abordagem sugerida:**
- Remover completamente o JSX do botao favorito em `Logo.tsx`
- Remover os estilos CSS associados ao botao em `Logo.module.css`
- Verificar que o componente Logo continua renderizando corretamente sem o botao
- PRD define Opcao 1 (remover) como recomendada, pois nao ha plano de uso

**Edge cases a considerar:**
- Verificar se algum outro componente referencia o botao favorito
- Verificar se ha imports ou exports relacionados ao favorito que precisam ser removidos

## Criterios de Aceitacao

- [ ] Zero ocorrencias de `key={index}` em todo o diretorio `src/` (validar com busca)
- [ ] Zero ocorrencias de "favorito" em `Logo.tsx`
- [ ] Zero ocorrencias de "botaoFavorito" ou "favorito" em `Logo.module.css`
- [ ] Calendario renderiza corretamente com as novas keys
- [ ] Lista de contatos renderiza corretamente com as novas keys
- [ ] Logo renderiza corretamente sem o botao fantasma
- [ ] Zero warnings de keys duplicadas no console do navegador
- [ ] `npm run build` executa sem erros
- [ ] `npm run lint` passa sem erros

## Test Strategy
- Unit tests: Nao (projeto nao possui framework de testes configurado)
- API tests: Nao
- Integration tests: Nao
- Validacao manual: Sim - verificar renderizacao do calendario, contatos e logo no navegador

## Definition of Done
- [ ] Codigo implementado conforme especificacao
- [ ] Build passando (`npm run build` sem erros)
- [ ] Lint passando (`npm run lint` sem erros)
- [ ] Validacao visual no navegador (calendario, contatos, logo)
- [ ] Code review aprovado pelo Tech Lead
- [ ] QA validado pelo Tech Lead

## Status: DONE

## Code Review & QA (Consolidated) - 2026-02-08

### Resultado: APROVADO

**Build**: OK (vite v7.3.1, 57 modules, 521ms)
**Lint**: OK (0 warnings, 0 errors)

### Verificacao Tecnica
- [x] key={index} corrigido em SecaoContato e CalendarioAgendamento
- [x] Codigo morto do botao favorito removido de Logo.tsx e Logo.module.css
- [x] Build passando sem erros
- [x] Lint passando sem erros

### Verificacao de Negocio (PRD-0002)
- [x] DT-003: Corrigir key={index} - ATENDIDO
- [x] MR-010: Remover codigo morto - ATENDIDO
